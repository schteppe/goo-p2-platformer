/* Goo Engine quadpack 0.10.0
 * Copyright 2014 Goo Technologies AB
 */
(function(window){function f(){
define("goo/quadpack/QuadComponent",["goo/entities/components/Component","goo/renderer/MeshData","goo/shapes/Quad","goo/entities/components/MeshDataComponent","goo/entities/components/MeshRendererComponent","goo/renderer/shaders/ShaderLib","goo/renderer/Material","goo/util/ObjectUtil","goo/renderer/Texture"],function(e,t,n,r,i,s,o,u,a){function f(e,t){t=t||{};var f={width:1,height:1,tileX:1,tileY:1,preserveAspectRatio:!0};u.defaults(t,f),this.type="QuadComponent",this.width=t.width,this.height=t.height,this.tileX=t.tileX,this.tileY=t.tileY,this.preserveAspectRatio=t.preserveAspectRatio,this.meshRendererComponent=new i,this.material=new o(s.uber,"QuadComponent default material"),this.meshData=new n(t.width,t.height,t.tileX,t.tileY),this.meshDataComponent=new r(this.meshData);var l=this.material;l.blendState.blending="CustomBlending",l.renderQueue=2e3,l.cullState.enabled=!1,l.dualTransparency=!0,l.uniforms.discardThreshold=.1,this.setMaterial(l);if(e){var c=new a(e);c.wrapS="EdgeClamp",c.wrapT="EdgeClamp",l.setTexture("DIFFUSE_MAP",c)}this.rebuildMeshData()}return f.prototype=Object.create(e.prototype),f.prototype.constructor=f,f.prototype.attached=function(e){e.setComponent(e.quadComponent.meshRendererComponent),e.setComponent(e.quadComponent.meshDataComponent)},f.prototype.detached=function(e){e.clearComponent("meshRendererComponent"),e.clearComponent("meshDataComponent")},f.prototype.setMaterial=function(e){this.material=e,this.meshRendererComponent.materials=[e]},f.prototype.rebuildMeshData=function(){var e=this.material,t=e.getTexture("DIFFUSE_MAP");if(!t)return;var n=t.image;if(!n)return;if(this.preserveAspectRatio&&n){var r=n.svgHeight||n.height,i=n.svgWidth||n.width;this.width=i/100,this.height=r/100}var s=this.meshData;s.xExtent=this.width*.5,s.yExtent=this.height*.5,s.tileX=this.tileX,s.tileY=this.tileY,this.meshData.rebuild()},f}),define("goo/quadpack/QuadComponentHandler",["goo/loaders/handlers/ComponentHandler","goo/shapes/Quad","goo/renderer/Material","goo/renderer/shaders/ShaderLib","goo/util/rsvp","goo/util/PromiseUtil","goo/util/ObjectUtil","goo/entities/components/MeshDataComponent","goo/entities/components/MeshRendererComponent","goo/quadpack/QuadComponent"],function(e,t,n,r,i,s,o,u,a,f){function l(){e.apply(this,arguments),this._type="QuadComponent"}return l.prototype=Object.create(e.prototype),l.prototype.constructor=l,e._registerClass("quad",l),l.prototype._create=function(){return new f},l.prototype._remove=function(e){e.clearComponent("quadComponent")},l.prototype.update=function(t,n,r){var i=this;return e.prototype.update.call(this,t,n,r).then(function(e){if(!e)return;return i._load(n.materialRef,r).then(function(n){return t.meshRendererComponent!==e.meshRendererComponent&&t.setComponent(e.meshRendererComponent),t.meshDataComponent!==e.meshDataComponent&&t.setComponent(e.meshDataComponent),e.setMaterial(n),e.rebuildMeshData(),e.meshDataComponent.autoCompute=!0,e})})},l}),require(["goo/quadpack/QuadComponent","goo/quadpack/QuadComponentHandler"],function(e,t){var n=window.goo;if(!n)return;n.QuadComponent=e,n.QuadComponentHandler=t}),define("goo/quadpack/quadpack",function(){});
}try{
if(window.localStorage&&window.localStorage.gooPath){
window.require.config({
paths:{goo:localStorage.gooPath}
});
}else f()
}catch(e){f()}
})(window,undefined)